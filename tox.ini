[tox]
envlist = py311
isolated_build = True

[testenv]
commands = coverage erase
           coverage run -m unittest discover
           coverage report
           coverage html
deps = coverage
       -rrequirements.txt

[testenv:teamcity]
commands = coverage erase
           coverage run -m teamcity.unittestpy discover
           coverage report
           coverage html
deps = coverage
       teamcity-messages
       -rrequirements.txt

[testenv:doc]
allowlist_externals = pdoc
commands = pdoc -o doc src/pbspy
